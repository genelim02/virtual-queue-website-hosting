// Generated by CoffeeScript 1.10.0
module.exports = function(opts) {
  if (opts == null) {
    opts = {};
  }
  if (opts.deploy == null) {
    opts.deploy = {};
  }
  if (opts.git == null) {
    opts.git = true;
  }
  if (opts.npm == null) {
    opts.npm = true;
  }
  return task('publish', 'publish project', function() {
    var cmds, force, ref, refspec, remote;
    cmds = [];
    if (opts.git) {
      cmds.push('git push');
      cmds.push('git push --tags');
    }
    ref = opts.deploy, force = ref.force, remote = ref.remote, refspec = ref.refspec;
    if ((remote != null) && (refspec != null)) {
      cmds.push("git push " + (force ? '-f' : '') + " " + remote + " " + refspec);
    }
    if (opts.npm) {
      cmds.push('npm publish');
    }
    return exec.parallel(cmds);
  });
};

//# sourceMappingURL=index.js.map
